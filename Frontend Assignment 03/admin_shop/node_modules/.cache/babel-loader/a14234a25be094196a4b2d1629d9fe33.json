{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/New/NewProduct.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport ProductAPI from \"../API/ProductAPI\";\nimport { useHistory } from \"react-router-dom\";\n\nconst NewProduct = () => {\n  _s();\n\n  const history = useHistory();\n  const [selectedImages, setSelectedImages] = useState([]);\n\n  const handleImageSelection = event => {\n    setSelectedImages(Array.from(event.target.files));\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const {\n        productName,\n        category,\n        shortDescription,\n        longDescription,\n        price\n      } = event.target.elements;\n      const formData = new FormData();\n      formData.append(\"name\", productName.value);\n      formData.append(\"category\", category.value);\n      formData.append(\"short_desc\", shortDescription.value);\n      formData.append(\"long_desc\", longDescription.value);\n      formData.append(\"price\", price.value);\n      selectedImages.forEach(image => {\n        formData.append(\"image\", image, image.name);\n      });\n      const response = await ProductAPI.postNewProduct(formData);\n      console.log(response); //nếu thành công dùng react router dom chuyển về trang /products\n\n      history.push(\"/products\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            width: \"50%\",\n            marginLeft: \"40px\"\n          },\n          onSubmit: handleSubmit,\n          encType: \"multipart/form-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter Product Name\",\n              name: \"productName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              placeholder: \"Enter Category\",\n              name: \"category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Short Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              rows: \"3\",\n              placeholder: \"Enter Short Description\",\n              name: \"shortDescription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Long Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              rows: \"6\",\n              placeholder: \"Enter Long Description\",\n              name: \"longDescription\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              placeholder: \"Enter Price\",\n              name: \"price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"exampleFormControlFile1\",\n              children: \"Upload image (4 images)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"form-control-file\",\n              id: \"exampleFormControlFile1\",\n              name: \"images\",\n              multiple: true,\n              onChange: handleImageSelection\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NewProduct, \"amswZCetdDED+SRuftgnLFOFSo8=\", false, function () {\n  return [useHistory];\n});\n\n_c = NewProduct;\nexport default NewProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewProduct\");","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/New/NewProduct.jsx"],"names":["React","useState","ProductAPI","useHistory","NewProduct","history","selectedImages","setSelectedImages","handleImageSelection","event","Array","from","target","files","handleSubmit","preventDefault","productName","category","shortDescription","longDescription","price","elements","formData","FormData","append","value","forEach","image","name","response","postNewProduct","console","log","push","error","width","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport ProductAPI from \"../API/ProductAPI\";\nimport { useHistory } from \"react-router-dom\";\n\nconst NewProduct = () => {\n  const history = useHistory();\n  const [selectedImages, setSelectedImages] = useState([]);\n\n  const handleImageSelection = (event) => {\n    setSelectedImages(Array.from(event.target.files));\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { productName, category, shortDescription, longDescription, price } = event.target.elements;\n\n      const formData = new FormData();\n      formData.append(\"name\", productName.value);\n      formData.append(\"category\", category.value);\n      formData.append(\"short_desc\", shortDescription.value);\n      formData.append(\"long_desc\", longDescription.value);\n      formData.append(\"price\", price.value);\n\n      selectedImages.forEach((image) => {\n        formData.append(\"image\", image, image.name);\n      });\n\n      const response = await ProductAPI.postNewProduct(formData);\n      console.log(response); //nếu thành công dùng react router dom chuyển về trang /products\n      history.push(\"/products\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"page-wrapper\">\n      <div className=\"page-breadcrumb\">\n        <div className=\"row\">\n          <form\n            style={{ width: \"50%\", marginLeft: \"40px\" }}\n            onSubmit={handleSubmit}\n            encType=\"multipart/form-data\"\n          >\n            <div className=\"form-group\">\n              <label>Product Name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter Product Name\"\n                name=\"productName\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Category</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter Category\"\n                name=\"category\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Short Description</label>\n              <textarea\n                className=\"form-control\"\n                rows=\"3\"\n                placeholder=\"Enter Short Description\"\n                name=\"shortDescription\"\n              ></textarea>\n            </div>\n            <div className=\"form-group\">\n              <label>Long Description</label>\n              <textarea\n                className=\"form-control\"\n                rows=\"6\"\n                placeholder=\"Enter Long Description\"\n                name=\"longDescription\"\n              ></textarea>\n            </div>\n            <div className=\"form-group\">\n              <label>Price</label>\n              <input\n                type=\"number\"\n                className=\"form-control\"\n                placeholder=\"Enter Price\"\n                name=\"price\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"exampleFormControlFile1\">\n                Upload image (4 images)\n              </label>\n              <input\n                type=\"file\"\n                className=\"form-control-file\"\n                id=\"exampleFormControlFile1\"\n                name=\"images\"\n                multiple={true}\n                onChange={handleImageSelection}\n              />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewProduct;\n"]},"metadata":{},"sourceType":"module"}
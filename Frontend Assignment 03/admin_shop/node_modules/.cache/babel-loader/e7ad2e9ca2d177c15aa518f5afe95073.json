{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/Login/Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react'; // import { useNavigate } from 'react-router-dom';\n\nimport UserAPI from '../API/UserAPI';\nimport './Login.css';\n\nconst Login = () => {\n  _s();\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState([]);\n  const {\n    loading,\n    error,\n    dispatch\n  } = useContext(AuthContext); // const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await UserAPI.getAllData();\n      setUser(response);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleSubmit = () => {\n    const findUser = user.find(value => {\n      return value.email === email;\n    });\n\n    if (findUser && findUser.password === password) {\n      dispatch({\n        type: 'LOGIN_SUCCESS',\n        payload: findUser\n      }); // navigate(\"/\")\n    } else {\n      alert(\"Email or password wrong!\");\n    } // if (findUser.password !== password) {\n    // \tsetErrorPassword(true);\n    // \treturn;\n    // } else {\n    // \tsetErrorPassword(false);\n    // \tlocalStorage.setItem('id_user', findUser._id);\n    // \tlocalStorage.setItem('name_user', findUser.fullname);\n    // \tconst action = addSession(localStorage.getItem('id_user'));\n    // \tdispatch(action);\n    // \tsetCheckPush(true);\n    // }\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-breadcrumb\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"login\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group input-group-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-addon\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-user\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 63,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  placeholder: \"Email\",\n                  value: email,\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group input-group-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-addon\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-lock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  placeholder: \"Password\",\n                  value: password,\n                  onChange: e => setPassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"float\",\n                onClick: handleSubmit,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Login, \"ByIt8FOjBxu58tjGIIomBc7YFkA=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/admin_shop/src/Login/Login.jsx"],"names":["React","useState","useEffect","useContext","UserAPI","Login","email","setEmail","password","setPassword","user","setUser","loading","error","dispatch","AuthContext","fetchData","response","getAllData","handleSubmit","findUser","find","value","type","payload","alert","e","target"],"mappings":"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","sourcesContent":["import React, { useState,useEffect, useContext } from 'react';\n// import { useNavigate } from 'react-router-dom';\nimport UserAPI from '../API/UserAPI';\n\nimport './Login.css';\n\nconst Login = () => {\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [user, setUser] = useState([]);\n\tconst { loading, error, dispatch } = useContext(AuthContext);\n\t// const navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\tconst response = await UserAPI.getAllData();\n\n\t\t\tsetUser(response);\n\t\t};\n\n\t\tfetchData();\n\t}, []);\n\n\tconst handleSubmit = () => {\n\t\tconst findUser = user.find((value) => {\n\t\t\treturn value.email === email;\n\t\t});\n\n\t\tif (findUser && findUser.password === password) {\n\t\t\tdispatch({ type: 'LOGIN_SUCCESS', payload: findUser });\n\t\t\t// navigate(\"/\")\n\t\t} else {\n\t\t\talert(\"Email or password wrong!\")\n\t\t}\n\n\t\t// if (findUser.password !== password) {\n\t\t// \tsetErrorPassword(true);\n\t\t// \treturn;\n\t\t// } else {\n\t\t// \tsetErrorPassword(false);\n\n\t\t// \tlocalStorage.setItem('id_user', findUser._id);\n\n\t\t// \tlocalStorage.setItem('name_user', findUser.fullname);\n\n\t\t// \tconst action = addSession(localStorage.getItem('id_user'));\n\t\t// \tdispatch(action);\n\n\t\t// \tsetCheckPush(true);\n\t\t// }\n\t};\n\n\treturn (\n\t\t<div className='page-wrapper'>\n\t\t\t<div className='page-breadcrumb'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div class='login'>\n\t\t\t\t\t\t<div class='heading'>\n\t\t\t\t\t\t\t<h2>Sign in</h2>\n\t\t\t\t\t\t\t<form action='#'>\n\t\t\t\t\t\t\t\t<div className='input-group input-group-lg'>\n\t\t\t\t\t\t\t\t\t<span className='input-group-addon'>\n\t\t\t\t\t\t\t\t\t\t<i className='fa fa-user'></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='input-group input-group-lg'>\n\t\t\t\t\t\t\t\t\t<span className='input-group-addon'>\n\t\t\t\t\t\t\t\t\t\t<i className='fa fa-lock'></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\tclassName='float'\n\t\t\t\t\t\t\t\t\tonClick={handleSubmit}>\n\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}
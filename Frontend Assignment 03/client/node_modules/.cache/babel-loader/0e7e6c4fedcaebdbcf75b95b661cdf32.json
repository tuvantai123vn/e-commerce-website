{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Volumes/document/GitHub/ASM3/Frontend Assignment 03/client/src/Authentication/LoginLink.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\n\nfunction LoginLink(props) {\n  _s();\n\n  const dispatch = useDispatch();\n\n  const onRedirect = async () => {\n    try {\n      // Gửi yêu cầu DELETE với cookie đi kèm\n      await axios.delete('http://localhost:5001/logout', {\n        withCredentials: true\n      }); // Xóa dữ liệu trong localStorage\n\n      localStorage.clear(); // Gọi action để xóa session trong Redux\n\n      const action = deleteSession('');\n      dispatch(action); // Redirect hoặc thực hiện các hành động khác sau khi logout thành công\n      // ...\n    } catch (error) {\n      // Xử lý lỗi nếu có\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"nav-item\",\n    onClick: onRedirect,\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      className: \"nav-link\",\n      to: \"/signin\",\n      children: \"( Logout )\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LoginLink, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", true);\n\n_c = LoginLink;\nexport default LoginLink;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginLink\");","map":{"version":3,"sources":["/Volumes/document/GitHub/ASM3/Frontend Assignment 03/client/src/Authentication/LoginLink.jsx"],"names":["axios","LoginLink","props","dispatch","useDispatch","onRedirect","delete","withCredentials","localStorage","clear","action","deleteSession","error","console","log"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AACzB,QAAMC,QAAQ,GAAGC,WAAW,EAA5B;;AAEA,QAAMC,UAAU,GAAG,YAAY;AAC9B,QAAI;AACH;AACA,YAAML,KAAK,CAACM,MAAN,CAAa,8BAAb,EAA6C;AAAEC,QAAAA,eAAe,EAAE;AAAnB,OAA7C,CAAN,CAFG,CAIH;;AACAC,MAAAA,YAAY,CAACC,KAAb,GALG,CAOH;;AACA,YAAMC,MAAM,GAAGC,aAAa,CAAC,EAAD,CAA5B;AACAR,MAAAA,QAAQ,CAACO,MAAD,CAAR,CATG,CAWH;AACA;AACA,KAbD,CAaE,OAAOE,KAAP,EAAc;AACf;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA;AACD,GAlBD;;AAoBA,sBACC;AAAI,IAAA,SAAS,EAAC,UAAd;AAAyB,IAAA,OAAO,EAAEP,UAAlC;AAAA,2BACC,QAAC,IAAD;AAAM,MAAA,SAAS,EAAC,UAAhB;AAA2B,MAAA,EAAE,EAAC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UADD;AAOA;;GA9BQJ,S;;KAAAA,S;AAgCT,eAAeA,SAAf","sourcesContent":["import axios from 'axios';\n\nfunction LoginLink(props) {\n\tconst dispatch = useDispatch();\n\n\tconst onRedirect = async () => {\n\t\ttry {\n\t\t\t// Gửi yêu cầu DELETE với cookie đi kèm\n\t\t\tawait axios.delete('http://localhost:5001/logout', { withCredentials: true });\n\n\t\t\t// Xóa dữ liệu trong localStorage\n\t\t\tlocalStorage.clear();\n\n\t\t\t// Gọi action để xóa session trong Redux\n\t\t\tconst action = deleteSession('');\n\t\t\tdispatch(action);\n\n\t\t\t// Redirect hoặc thực hiện các hành động khác sau khi logout thành công\n\t\t\t// ...\n\t\t} catch (error) {\n\t\t\t// Xử lý lỗi nếu có\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<li className='nav-item' onClick={onRedirect}>\n\t\t\t<Link className='nav-link' to='/signin'>\n\t\t\t\t( Logout )\n\t\t\t</Link>\n\t\t</li>\n\t);\n}\n\nexport default LoginLink;\n"]},"metadata":{},"sourceType":"module"}